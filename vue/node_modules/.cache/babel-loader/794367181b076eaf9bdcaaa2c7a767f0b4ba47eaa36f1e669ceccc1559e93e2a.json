{"ast":null,"code":"import * as echarts from 'echarts';\n\n//地区分布\nconst barOption = {\n  title: {\n    text: '用户地区分布',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'axis'\n  },\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true\n  },\n  xAxis: [{\n    type: 'category',\n    data: [],\n    axisLabel: {\n      interval: 0,\n      // Display all labels\n      rotate: 45 // Rotate the labels for better readability\n    },\n\n    axisTick: {\n      alignWithLabel: true\n    }\n  }],\n  yAxis: [{\n    type: 'value',\n    axisLabel: {\n      formatter: function (value) {\n        return parseInt(value);\n      }\n    }\n  }],\n  series: [{\n    name: 'Direct',\n    type: 'bar',\n    barWidth: '60%',\n    data: []\n  }]\n};\n//跟进方式\nconst pieOption4 = {\n  title: {\n    text: '跟进方式',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'item'\n  },\n  legend: {\n    orient: 'vertical',\n    left: 'left'\n  },\n  series: [{\n    type: 'pie',\n    center: ['50%', '60%'],\n    radius: '50%',\n    data: [],\n    label: {\n      show: true,\n      formatter(param) {\n        return param.name + ' (' + param.percent + '%)';\n      }\n    },\n    emphasis: {\n      itemStyle: {\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowColor: 'rgba(0, 0, 0, 0.5)'\n      }\n    }\n  }]\n};\n//跟进内容\nconst pieOption5 = {\n  title: {\n    text: '跟进内容',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'item'\n  },\n  legend: {\n    orient: 'vertical',\n    left: 'left'\n  },\n  series: [{\n    type: 'pie',\n    center: ['50%', '60%'],\n    radius: '50%',\n    data: [],\n    label: {\n      show: true,\n      formatter(param) {\n        return param.name + ' (' + param.percent + '%)';\n      }\n    },\n    emphasis: {\n      itemStyle: {\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowColor: 'rgba(0, 0, 0, 0.5)'\n      }\n    }\n  }]\n};\n// 线索转换率\nconst pieOption6 = {\n  title: {\n    text: '线索转换率',\n    left: 'center'\n  },\n  tooltip: {\n    trigger: 'item'\n  },\n  legend: {\n    orient: 'vertical',\n    left: 'left'\n  },\n  series: [{\n    type: 'pie',\n    center: ['50%', '60%'],\n    radius: '50%',\n    data: [],\n    label: {\n      show: true,\n      formatter(param) {\n        return param.name + ' (' + param.percent + '%)';\n      }\n    },\n    emphasis: {\n      itemStyle: {\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowColor: 'rgba(0, 0, 0, 0.5)'\n      }\n    }\n  }]\n};\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      notices: [],\n      countData: {}\n    };\n  },\n  mounted() {\n    this.$request.get('/countData').then(res => {\n      this.countData = res.data;\n    });\n\n    // 跟进方式\n    let pieDom4 = document.getElementById('pie4');\n    let pieChart4 = echarts.init(pieDom4);\n    //跟进内容\n    let pieDom5 = document.getElementById('pie5');\n    let pieChart5 = echarts.init(pieDom5);\n\n    //线索转换率\n    let pieDom6 = document.getElementById('pie6');\n    let pieChart6 = echarts.init(pieDom6);\n    //跟进方式\n    this.$request.get('/MethodData').then(res => {\n      pieOption4.series[0].data = res.data || [];\n      pieChart4.setOption(pieOption4);\n    });\n    //跟进内容\n    this.$request.get('/ContentData').then(res => {\n      pieOption5.series[0].data = res.data || [];\n      pieChart5.setOption(pieOption5);\n    });\n    //线索转换率\n    this.$request.get('/FallbackData').then(res => {\n      pieOption6.series[0].data = res.data || [];\n      pieChart6.setOption(pieOption6);\n    });\n  }\n};","map":{"version":3,"names":["echarts","barOption","title","text","left","tooltip","trigger","grid","right","bottom","containLabel","xAxis","type","data","axisLabel","interval","rotate","axisTick","alignWithLabel","yAxis","formatter","value","parseInt","series","name","barWidth","pieOption4","legend","orient","center","radius","label","show","param","percent","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","pieOption5","pieOption6","user","JSON","parse","localStorage","getItem","notices","countData","mounted","$request","get","then","res","pieDom4","document","getElementById","pieChart4","init","pieDom5","pieChart5","pieDom6","pieChart6","setOption"],"sources":["src/views/manager/FollowAnalysis.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <div style=\"margin: 10px 0\">\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"8\">\r\n            <router-link to=\"/clue\">\r\n            <div class=\"card\" style=\"display: flex; align-items: center\">\r\n              <div style=\"display: flex; flex-direction: column; gap:5px; margin-left: 40px;\">\r\n                <div style=\"color: #666\">线索数量</div>\r\n                <div style=\"font-size: 20px; text-align:center\">{{ countData.clue }}</div>\r\n              </div>\r\n            </div>\r\n          </router-link>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <div class=\"card\" style=\"display: flex; align-items: center\" >\r\n              <div style=\"display: flex; flex-direction: column; gap:5px; margin-left: 40px;\">\r\n                <div style=\"color: #666\">已跟进记录数</div>\r\n                <div style=\"font-size: 20px\">{{ countData.potential }}</div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <div class=\"card\" style=\"display: flex; align-items: center\">\r\n              <div style=\"display: flex; flex-direction: column; gap:5px; margin-left: 40px;\">\r\n                <div style=\"color: #666\">跟进计划数</div>\r\n                <div style=\"font-size: 20px\">{{ countData.plan }}</div>\r\n              </div>\r\n            </div>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n\r\n          </el-col>\r\n        </el-row>\r\n        \r\n      </div>\r\n  \r\n      <el-row :gutter=\"10\" style=\"margin: 10px 0\">\r\n    \r\n      </el-row>\r\n      <el-row :gutter=\"10\" style=\"margin: 10px 0\">\r\n        <el-col :span=\"8\">\r\n          <div class=\"card\" id=\"pie4\" style=\"width: 100%; height: 400px\"></div>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <div class=\"card\" id=\"pie6\" style=\"width: 100%; height: 400px\"></div>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <div class=\"card\" id=\"pie5\" style=\"width: 100%; height: 400px\"></div>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import * as echarts from 'echarts'\r\n  \r\n  //地区分布\r\n  const barOption = {\r\n    title: {\r\n      text: '用户地区分布',\r\n      left: 'center'\r\n    },\r\n    tooltip: {\r\n      trigger: 'axis',\r\n    },\r\n    grid: {\r\n      left: '3%',\r\n      right: '4%',\r\n      bottom: '3%',\r\n      containLabel: true\r\n    },\r\n    xAxis: [\r\n      {\r\n        type: 'category',\r\n        data: [],\r\n        axisLabel: {\r\n          interval: 0,  // Display all labels\r\n          rotate: 45     // Rotate the labels for better readability\r\n        },\r\n        axisTick: {\r\n          alignWithLabel: true\r\n        }\r\n      }\r\n    ],\r\n    yAxis: [\r\n      {\r\n        type: 'value',\r\n        axisLabel: {\r\n          formatter: function (value) { return parseInt(value); }\r\n      }\r\n      }\r\n    ],\r\n    series: [\r\n      {\r\n        name: 'Direct',\r\n        type: 'bar',\r\n        barWidth: '60%',\r\n        data: []\r\n      }\r\n    ]\r\n  };\r\n  //跟进方式\r\n  const pieOption4 = {\r\n    title: {\r\n      text: '跟进方式',\r\n      left: 'center'\r\n    },\r\n    tooltip: {\r\n      trigger: 'item'\r\n    },\r\n    legend: {\r\n      orient: 'vertical',\r\n      left: 'left'\r\n    },\r\n    series: [\r\n      {\r\n        type: 'pie',\r\n        center: ['50%', '60%'],\r\n        radius: '50%',\r\n        data: [],\r\n        label: {\r\n          show: true,\r\n          formatter(param) {\r\n            return param.name + ' (' + param.percent + '%)';\r\n          }\r\n        },\r\n        emphasis: {\r\n          itemStyle: {\r\n            shadowBlur: 10,\r\n            shadowOffsetX: 0,\r\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n  //跟进内容\r\n  const pieOption5 = {\r\n    title: {\r\n      text: '跟进内容',\r\n      left: 'center'\r\n    },\r\n    tooltip: {\r\n      trigger: 'item'\r\n    },\r\n    legend: {\r\n      orient: 'vertical',\r\n      left: 'left'\r\n    },\r\n    series: [\r\n      {\r\n        type: 'pie',\r\n        center: ['50%', '60%'],\r\n        radius: '50%',\r\n        data: [],\r\n        label: {\r\n          show: true,\r\n          formatter(param) {\r\n            return param.name + ' (' + param.percent + '%)';\r\n          }\r\n        },\r\n        emphasis: {\r\n          itemStyle: {\r\n            shadowBlur: 10,\r\n            shadowOffsetX: 0,\r\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n  // 线索转换率\r\n   const pieOption6 = {\r\n     title: {\r\n       text: '线索转换率',\r\n       left: 'center'\r\n     },\r\n     tooltip: {\r\n       trigger: 'item'\r\n     },\r\n     legend: {\r\n       orient: 'vertical',\r\n       left: 'left'\r\n     },\r\n     series: [\r\n       {\r\n         type: 'pie',\r\n        center: ['50%', '60%'],\r\n         radius: '50%',\r\n         data: [],\r\n         label: {\r\n           show: true,\r\n           formatter(param) {\r\n             return param.name + ' (' + param.percent + '%)';\r\n           }\r\n         },\r\n         emphasis: {\r\n           itemStyle: {\r\n             shadowBlur: 10,\r\n             shadowOffsetX: 0,\r\n             shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n           }\r\n         }\r\n       }\r\n     ]\r\n   }\r\n\r\n  export default {\r\n    name: 'Home',\r\n    data() {\r\n      return {\r\n        user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\r\n        notices: [],\r\n        countData: {}\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$request.get('/countData').then(res => {\r\n        this.countData = res.data\r\n      })\r\n\r\n      // 跟进方式\r\n      let pieDom4 = document.getElementById('pie4');\r\n      let pieChart4 = echarts.init(pieDom4);\r\n      //跟进内容\r\n      let pieDom5 = document.getElementById('pie5');\r\n      let pieChart5 = echarts.init(pieDom5);\r\n     \r\n      //线索转换率\r\n       let pieDom6 = document.getElementById('pie6');\r\n       let pieChart6 = echarts.init(pieDom6);\r\n      //跟进方式\r\n      this.$request.get('/MethodData').then(res => {\r\n        pieOption4.series[0].data = res.data || []\r\n        pieChart4.setOption(pieOption4)\r\n      })\r\n      //跟进内容\r\n      this.$request.get('/ContentData').then(res => {\r\n        pieOption5.series[0].data = res.data || []\r\n        pieChart5.setOption(pieOption5)\r\n      })\r\n         //线索转换率\r\n        this.$request.get('/FallbackData').then(res => {\r\n         pieOption6.series[0].data = res.data || []\r\n         pieChart6.setOption(pieOption6)\r\n       })\r\n    }\r\n  }\r\n  </script>\r\n  <style scoped>\r\n  .head {\r\n    width: 150px;\r\n    height: 150px;\r\n    border-radius: 50%;\r\n    display: block;\r\n    margin: 0 auto;\r\n  }\r\n  \r\n  .userinfo .name {\r\n    font-size: 32px;\r\n    margin-bottom: 10px;\r\n    text-align: center;\r\n  }\r\n  \r\n  .info {\r\n    font-size: 15px;\r\n    line-height: 30px;\r\n    text-align: center;\r\n  }\r\n  \r\n  </style>\r\n  \r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}